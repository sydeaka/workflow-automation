---
#title: "Lending Club Loan Analysis"
#author: "Sydeaka Watson"
#date: "2018-10-05 21:42:47"
output:
  html_document:
    css: style.css
    keep_md: true
  pdf_document: default
  word_document: default
---















# Predicting Adverse Outcomes for Debt Consolidation Loans {.tabset .tabset-fade}



## Introduction 

Lending Club is a peer-to-peer lending platform based in the U.S. On their website, they regularly publish datasets that include attributes about the customer and loan that are collected at the time of application or during the debt repayment window. 

These datasets are quite popular among Kaggle competitors and other data science enthusiasts. For additional information about Lending Club, visit any of the links below.

- Wiki: https://en.wikipedia.org/wiki/Lending_Club
- Website: https://www.lendingclub.com
- Datasets: https://www.lendingclub.com/info/download-data.action

In this report, we share the results of a modeling exercise in which we attempt to predict adverse outcomes for Lending Club loans to be used for debt consolidation purposes. The dataset used for this exercise are related to loan applications processed in **2017, Quarter 2**.

## Dataset {.tabset .tabset-fade}

The 2017 Q2 dataset consisted of 105451 records. Selected Lending Club attributes were joined to state-level population summaries to produce the modeling dataset.  For the analysis, we focused on the 58557 loans for debt consolidation. Late payment, default, or charge-off loan statuses were flagged as adverse (undesirable) outcomes.

A sample of 100 rows is provided in the following table. 
<br>
<br>




<!--html_preserve--><div id="htmlwidget-ec88f7ea3f83743d35be" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ec88f7ea3f83743d35be">{"x":{"filter":"none","caption":"<caption>Lending Club loans for debt consolidation (data sample)<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[5400,5000,16000,6700,35000,18000,24825,22275,9500,6000,9000,14000,24000,6000,12000,26400,15000,36700,12000,15000,16000,12000,30000,3000,12000,10000,19500,1800,10000,4200,35000,30850,19000,35000,35000,15000,26400,20000,30000,20000,12000,7200,8400,22000,15000,15000,18000,35000,12000,6000,11000,35000,4125,30000,8500,25000,10000,13000,20000,12800,25000,7500,6000,35000,2750,20000,6050,25000,4000,7000,15000,7000,30000,19000,24000,30000,12000,8000,30000,3000,12600,6050,16500,7000,3200,16000,17500,20400,11200,9600,12000,9000,7000,22875,16000,20825,7800,12000,22000,20000],[11.44,13.49,16.02,11.44,17.09,23.88,15.99,16.02,10.42,7.35,16.02,17.09,14.99,15.99,11.99,16.99,29.49,14.99,12.62,11.49,14.99,14.08,19.03,7.21,10.91,12.74,7.07,7.97,7.21,14.99,13.49,16.02,9.44,18.99,13.99,16.99,28.72,19.03,29.69,13.59,14.99,10.42,18.06,21.45,30.75,18.99,13.49,24.85,12.74,5.32,13.59,8.24,15.05,11.49,13.59,14.08,6.99,11.99,14.08,17.99,19.03,7.35,11.49,16.99,16.02,26.24,10.91,19.03,10.42,12.62,10.49,15.99,15.05,16.99,7.35,23.99,13.59,14.99,16.99,11.39,13.99,19.99,5.32,9.93,13.49,10.49,19.03,14.08,16.99,13.49,13.99,7.99,11.49,16.99,12.62,13.99,9.44,15.99,17.09,11.49],[177.92,169.66,389.26,220.75,1249.42,705.06,872.66,541.93,308.42,186.23,316.51,348.62,570.84,210.92,266.88,655.97,480.62,1272.04,402.14,494.57,380.56,410.6,778.72,92.92,392.36,226.21,602.73,56.39,309.74,145.58,1187.57,1084.9,608.1,907.73,1196.05,372.71,833.5,733.43,964.9,679.58,415.93,233.75,303.94,600.76,642.96,389.03,610.75,1388.82,271.45,180.69,373.77,1100.66,143.1,989.14,288.83,582.75,308.73,431.73,684.33,462.69,648.93,232.79,197.83,1247.68,96.71,601.66,197.82,648.93,129.86,234.58,322.34,246.07,714.49,677.31,744.9,862.87,276.68,277.29,1069.44,98.78,293.12,224.81,496.9,225.65,108.58,519.97,454.25,475.52,399.26,325.74,410.08,281.99,230.8,568.38,536.18,484.46,249.64,291.76,547.83,659.43],["B","C","C","B","D","E","C","C","B","A","C","D","C","C","B","D","F","C","C","B","C","C","D","A","B","C","A","A","A","C","C","C","B","D","C","D","F","D","F","C","C","B","D","D","F","D","C","E","C","A","C","B","C","B","C","C","A","B","C","D","D","A","B","D","C","E","B","D","B","C","B","C","C","D","A","E","C","C","D","B","C","D","A","B","C","B","D","C","D","C","C","A","B","D","C","C","B","C","D","B"],["B4","C2","C5","B4","D1","E2","C5","C5","B3","A4","C5","D1","C4","C5","B5","D1","F2","C4","C1","B5","C4","C3","D3","A3","B4","C1","A2","A5","A3","C4","C2","C5","B1","D3","C3","D1","F1","D3","F2","C2","C4","B3","D2","D5","F5","D3","C2","E3","C1","A1","C2","B1","C4","B5","C2","C3","A2","B5","C3","D2","D3","A4","B5","D1","C5","E5","B4","D3","B3","C1","B2","C5","C4","D1","A4","E2","C2","C4","D1","B3","C3","D4","A1","B2","C2","B2","D3","C3","D1","C2","C3","A5","B5","D1","C1","C3","B1","C5","D1","B5"],["n/a","10+ years","10+ years","5 years","1 year","3 years","4 years","&lt; 1 year","3 years","n/a","1 year","10+ years","10+ years","10+ years","4 years","8 years","10+ years","9 years","1 year","7 years","10+ years","10+ years","3 years","10+ years","3 years","&lt; 1 year","4 years","2 years","n/a","1 year","&lt; 1 year","2 years","3 years","10+ years","4 years","10+ years","10+ years","n/a","8 years","3 years","10+ years","2 years","1 year","10+ years","&lt; 1 year","10+ years","5 years","10+ years","7 years","n/a","9 years","10+ years","6 years","4 years","2 years","8 years","2 years","10+ years","8 years","5 years","10+ years","2 years","3 years","&lt; 1 year","10+ years","10+ years","&lt; 1 year","10+ years","10+ years","10+ years","10+ years","2 years","n/a","10+ years","5 years","5 years","10+ years","6 years","10+ years","10+ years","7 years","3 years","3 years","3 years","&lt; 1 year","&lt; 1 year","6 years","6 years","6 years","10+ years","1 year","5 years","10+ years","7 years","7 years","5 years","6 years","2 years","10+ years","n/a"],["OWN","OWN","RENT","RENT","MORTGAGE","RENT","MORTGAGE","MORTGAGE","MORTGAGE","RENT","RENT","MORTGAGE","RENT","OWN","MORTGAGE","OWN","RENT","OWN","OWN","RENT","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","RENT","MORTGAGE","RENT","OWN","RENT","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","RENT","RENT","MORTGAGE","RENT","RENT","RENT","MORTGAGE","OWN","MORTGAGE","MORTGAGE","MORTGAGE","RENT","OWN","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","RENT","MORTGAGE","MORTGAGE","MORTGAGE","RENT","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","MORTGAGE","RENT","MORTGAGE","RENT","OWN","MORTGAGE","MORTGAGE","MORTGAGE","RENT","RENT","RENT","RENT","RENT","MORTGAGE","MORTGAGE","RENT","RENT","MORTGAGE","MORTGAGE","MORTGAGE","RENT","MORTGAGE","RENT","MORTGAGE","MORTGAGE","OWN","MORTGAGE","RENT","RENT","MORTGAGE","MORTGAGE","MORTGAGE"],[49500,46000,38000,48000,146000,40000,54000,60000,82500,16000,92500,80000,65000,70000,81000,60000,89000,73403.16,90000,45000,82000,95733,68000,60000,64000,65000,54000,50000,49301.88,37000,200000,145000,62400,56652,180000,70000,72500,8000,63500,130000,135000,36500,69000,47040,25000,80000,145000,72000,130000,31200,44000,202900,70000,200000,43500,78819,45000,85000,85992,70000,88000,110000,89000,32800,26000,55000,70000,90000,45000,43200,70000,70008,60000,225000,109000,95000,45000,37000,57000,60000,39600,36400,85000,40000,39000,75000,120000,85000,28000,165000,60000,38600,41139,52000,164000,85000,65000,116000,50000,60000],["Source Verified","Verified","Verified","Source Verified","Source Verified","Verified","Source Verified","Verified","Verified","Source Verified","Source Verified","Source Verified","Not Verified","Verified","Source Verified","Source Verified","Source Verified","Source Verified","Source Verified","Source Verified","Not Verified","Source Verified","Not Verified","Not Verified","Not Verified","Not Verified","Source Verified","Not Verified","Verified","Source Verified","Source Verified","Verified","Source Verified","Source Verified","Verified","Verified","Source Verified","Verified","Source Verified","Not Verified","Verified","Source Verified","Verified","Not Verified","Verified","Source Verified","Not Verified","Verified","Source Verified","Not Verified","Source Verified","Source Verified","Verified","Verified","Verified","Not Verified","Not Verified","Source Verified","Verified","Verified","Source Verified","Not Verified","Source Verified","Verified","Verified","Source Verified","Source Verified","Source Verified","Not Verified","Not Verified","Not Verified","Verified","Verified","Source Verified","Verified","Verified","Not Verified","Verified","Verified","Not Verified","Verified","Verified","Not Verified","Source Verified","Source Verified","Verified","Source Verified","Not Verified","Not Verified","Not Verified","Not Verified","Not Verified","Verified","Not Verified","Not Verified","Source Verified","Source Verified","Not Verified","Not Verified","Source Verified"],["debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation","debt_consolidation"],[4.36,11.9,33.54,14.2,20.54,32.28,27.89,32.14,23.21,14.48,16.15,21.99,34.68,9.16,11.21,15,20.79,19.8,7.97,16.59,30.75,13.1,21.67,12.2,13.74,26.11,10.82,32.38,18.51,11.48,6.35,22.61,25.6,38.93,34.5,12.38,24.93,96.85,34.68,11.5,20.64,25.16,11.89,24.46,36.49,19.98,22.54,29.55,15.42,22.92,26.02,14.99,23.35,13.84,16.11,28.47,23.33,6.79,5.36,17.42,7.77,11.52,9.35,40.36,32.36,17.61,24.12,22.85,3.73,26,12.7,4.61,17.14,20.12,16.45,33.6,20.21,14.89,22.19,8.91,1.52,32.15,13.54,14.92,25.51,27.73,13.16,26.23,22.33,26.27,7.78,18.69,25.35,6,25.14,29.1,23.56,7,14.98,20.54],[0,0,0,0,0,1,1,0,0,0,0,0,0,2,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,2,0,0,0,1,1,0,0,0,1,0,0,2,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,2,0,0,5,0],[1,2,0,0,1,3,0,0,1,0,2,0,0,0,1,0,0,1,0,0,0,0,0,0,3,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,0,0,0,2,0,2,3,0,0,0,0,1,3,0,0,0,0,0,2,0,0,1,1,0,2,0,0,1,0,0,0,1,1,0,0,0,1,0,1,1,2,2,1,0,1,1,0,0,0,1,0,0,0,0,1,1,0,0,1],[1,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0],[7,11,7,5,15,34,13,9,9,16,31,12,8,10,15,9,10,9,9,7,13,11,12,10,8,33,13,22,6,11,12,25,11,13,17,5,9,9,15,9,13,10,9,5,7,13,19,29,12,13,10,35,19,10,17,14,13,5,9,6,12,5,13,8,12,12,20,14,11,7,11,9,27,17,7,10,11,6,6,13,13,17,12,11,15,22,10,13,13,11,5,20,9,6,19,14,15,5,9,10],[1,0,0,0,0,1,0,0,2,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,2,1,0,1,0,0,1,0,0,0,3,1,0,1,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0],[5191,3794,16512,6069,58657,20417,17651,22777,7515,5981,13618,10803,1801,9931,19036,21752,9170,51057,4408,17094,23691,2902,25404,6131,1989,17251,18935,12767,14420,2704,44964,34579,13308,14921,856,11418,15146,4795,31125,19725,43139,11493,4923,10621,2506,12074,25121,29793,27737,10787,7068,70601,16061,25273,8425,17894,9158,6866,5169,6411,18453,5476,16144,11768,11035,10479,16082,37353,1718,9552,35515,6640,42724,177126,22966,11393,7701,3000,6054,3620,1538,3091,13329,2396,5575,28425,11239,18939,8079,12866,5339,6138,9107,11036,45163,4921,14862,1311,9134,19048],["37.3%","27.1%","95.4%","54.2%","70%","32%","29%","69.9%","76.7%","9.3%","30.3%","41.1%","13.4%","68.5%","34.4%","56.8%","68.9%","56.1%","38.3%","65.7%","100.4%","50.9%","69.8%","27.9%","9.5%","26.3%","37.3%","53%","34.1%","60.1%","75.4%","43.4%","84.2%","75.4%","7.2%","92.8%","91.2%","44.8%","56.3%","78.3%","73.7%","70.9%","84.9%","68.5%","21.4%","74.5%","47.8%","29.3%","47.6%","27.7%","72.9%","67.3%","32.3%","64%","32.9%","70.2%","21.1%","88%","25.7%","49.3%","47.2%","21.1%","25.8%","40.9%","47.4%","47.4%","51.2%","90.4%","8.6%","46.6%","69.9%","50.3%","37.4%","91.3%","58.3%","62.9%","46.7%","83.3%","27.6%","12.9%","4.1%","49%","32.4%","34.2%","39.3%","58%","54%","94.4%","50.5%","53.4%","43%","29.4%","62.8%","47%","44%","14.7%","37.5%","43.7%","58.2%","57.2%"],[14,17,14,7,34,57,22,33,24,50,45,24,32,30,19,13,18,22,9,9,25,28,19,24,16,53,26,43,17,22,32,29,19,31,66,17,18,34,35,12,30,13,12,6,23,29,26,64,41,23,17,44,29,37,24,29,21,24,30,15,17,19,21,14,18,14,30,21,17,15,26,13,65,28,14,21,22,9,11,20,17,21,34,52,21,29,12,29,30,28,6,30,15,9,38,26,18,10,21,25],["WI","AL","CA","SC","NJ","CT","VA","TX","OH","OH","TX","AZ","MD","VA","TN","TX","CA","CA","NY","OR","IN","NM","CA","NY","WA","AZ","OH","UT","NY","OH","WA","IL","NJ","TN","GA","CA","MO","AZ","TX","MD","TX","UT","AZ","AZ","TX","NY","NV","TX","CT","FL","FL","FL","GA","NC","GA","NY","NJ","MN","NY","CA","VA","LA","NM","CA","FL","MS","MD","NC","CA","MA","CO","IL","NV","NY","TX","SC","WI","MI","FL","FL","CA","GA","CO","MI","TX","PA","CA","NC","OR","CA","IL","IL","KS","MD","TX","FL","NJ","FL","CT","NJ"],[5818049,4888949,39776830,5088916,9032872,3588683,8525660,28704330,11694664,11694664,28704330,7123898,6079602,8525660,6782564,28704330,39776830,39776830,19862512,4199563,6699629,2090708,39776830,19862512,7530552,7123898,11694664,3159345,19862512,11694664,7530552,12768320,9032872,6782564,10545138,39776830,6135888,7123898,28704330,6079602,28704330,3159345,7123898,7123898,28704330,19862512,3056824,28704330,3588683,21312211,21312211,21312211,10545138,10390149,10545138,19862512,9032872,5628162,19862512,39776830,8525660,4682509,2090708,39776830,21312211,2982785,6079602,10390149,39776830,6895917,5684203,12768320,3056824,19862512,28704330,5088916,5818049,9991177,21312211,21312211,39776830,10545138,5684203,9991177,28704330,12823989,39776830,10390149,4199563,39776830,12768320,12768320,2918515,6079602,28704330,21312211,9032872,21312211,3588683,9032872],[0.003893722,0.002913382,0.006074793,0.012846787,0.003023437,0.000139068,0.006569052,0.014122583,0.003092564,0.003092564,0.014122583,0.015339775,0.004531427,0.006569052,0.009913663,0.014122583,0.006074793,0.006074793,0.000660625,0.013707475,0.004921538,0.001263368,0.006074793,0.000660625,0.016853002,0.015339775,0.003092564,0.018541295,0.000660625,0.003092564,0.016853002,-0.002632631,0.003023437,0.009913663,0.011099319,0.006074793,0.003656806,0.015339775,0.014122583,0.004531427,0.014122583,0.018541295,0.015339775,0.015339775,0.014122583,0.000660625,0.019607817,0.014122583,0.000139068,0.015621652,0.015621652,0.015621652,0.011099319,0.011362332,0.011099319,0.000660625,0.003023437,0.00924505,0.000660625,0.006074793,0.006569052,-0.000389383,0.001263368,0.006074793,0.015621652,-0.000440669,0.004531427,0.011362332,0.006074793,0.005262238,0.013741196,-0.002632631,0.019607817,0.000660625,0.014122583,0.012846787,0.003893722,0.00289752,0.015621652,0.015621652,0.006074793,0.011099319,0.013741196,0.00289752,0.014122583,0.001440939,0.006074793,0.011362332,0.013707475,0.006074793,-0.002632631,-0.002632631,0.001850935,0.004531427,0.014122583,0.015621652,0.003023437,0.015621652,0.000139068,0.003023437],[0.017736201,0.014903859,0.121258837,0.015513454,0.027536522,0.010940025,0.025990297,0.087504552,0.03565094,0.03565094,0.087504552,0.021717055,0.01853354,0.025990297,0.020676505,0.087504552,0.121258837,0.121258837,0.060550454,0.01280228,0.020423679,0.00637348,0.121258837,0.060550454,0.022956731,0.021717055,0.03565094,0.009631197,0.060550454,0.03565094,0.022956731,0.038923957,0.027536522,0.020676505,0.032146633,0.121258837,0.018705127,0.021717055,0.087504552,0.01853354,0.087504552,0.009631197,0.021717055,0.021717055,0.087504552,0.060550454,0.009318664,0.087504552,0.010940025,0.064969831,0.064969831,0.064969831,0.032146633,0.031674153,0.032146633,0.060550454,0.027536522,0.017157335,0.060550454,0.121258837,0.025990297,0.014274531,0.00637348,0.121258837,0.064969831,0.009092958,0.01853354,0.031674153,0.121258837,0.021022059,0.017328174,0.038923957,0.009318664,0.060550454,0.087504552,0.015513454,0.017736201,0.030457895,0.064969831,0.064969831,0.121258837,0.032146633,0.017328174,0.030457895,0.087504552,0.039093663,0.121258837,0.031674153,0.01280228,0.121258837,0.038923957,0.038923957,0.008897032,0.01853354,0.087504552,0.064969831,0.027536522,0.064969831,0.010940025,0.027536522],[36,36,60,36,36,36,36,60,36,36,36,60,60,36,60,60,60,36,36,36,60,36,60,36,36,60,36,36,36,36,36,36,36,60,36,60,60,36,60,36,36,36,36,60,36,60,36,36,60,36,36,36,36,36,36,60,36,36,36,36,60,36,36,36,36,60,36,60,36,36,60,36,60,36,36,60,60,36,36,36,60,36,36,36,36,36,60,60,36,36,36,36,36,60,36,60,36,60,60,36],["no","no","no","no","no","no","no","no","no","no","no","no","yes","no","no","no","yes","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","no","yes","no","no","no","no","yes","no","no","no","no","no","no","no","yes","no","no","no","no","yes","no","no","no","yes","yes","no","no","no","no","no","no","no","yes","no","no","no","no","no","no","yes","yes","no","no","yes","no","no","no","yes","no","no","no","yes","yes","no","no","no","no","no","no"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>loan_amnt<\/th>\n      <th>int_rate<\/th>\n      <th>installment<\/th>\n      <th>grade<\/th>\n      <th>sub_grade<\/th>\n      <th>emp_length<\/th>\n      <th>home_ownership<\/th>\n      <th>annual_inc<\/th>\n      <th>verification_status<\/th>\n      <th>purpose<\/th>\n      <th>dti<\/th>\n      <th>delinq_2yrs<\/th>\n      <th>inq_last_6mths<\/th>\n      <th>pub_rec_bankruptcies<\/th>\n      <th>open_acc<\/th>\n      <th>pub_rec<\/th>\n      <th>revol_bal<\/th>\n      <th>revol_util<\/th>\n      <th>total_acc<\/th>\n      <th>addr_state<\/th>\n      <th>Population2018<\/th>\n      <th>Growth2018<\/th>\n      <th>Percent_of_US<\/th>\n      <th>term_months<\/th>\n      <th>late_or_chargeoff<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,8,11,12,13,14,15,16,17,19,21,22,23,24]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><!--/html_preserve-->


## Descriptive summaries {.tabset .tabset-fade}

The data consisted of a mix of numerical and categorical attributes and only a few missing values. 

- The most popular type of loan was debt consolidation, comprising 58557 / 105451 (55.53%) of all loans. 
- Most of the loans received a grade of B or C. 
- Loan amounts for debt consolidation ranged from 1000 to 40000 dollars (U.S.). 
- Interest rate increases as grades decrease from A to G.

For details, click on any of the following tabs.
<br>
<br>
 
### Attribute details

Table: Data types and missing data summaries

     Data Types             Missing Data (N)   Missing Data (%)   Description   NA                                                                                                                                                                                                       
---  ---------------------  -----------------  -----------------  ------------  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1    addr_state             factor             0                  0             The state provided by the borrower in the loan application                                                                                                                                               
2    annual_inc             numeric            0                  0             The self-reported annual income provided by the borrower during registration.                                                                                                                            
3    delinq_2yrs            integer            0                  0             The number of 30+ days past-due incidences of delinquency in the borrower's credit file for the past 2 years                                                                                             
4    dti                    numeric            0                  0             A ratio calculated using the borrower’s total monthly debt payments on the total debt obligations, excluding mortgage and the requested LC loan, divided by the borrower’s self-reported monthly income. 
5    emp_length             factor             0                  0             Employment length in years. Possible values are between 0 and 10 where 0 means less than one year and 10 means ten or more years.                                                                        
6    grade                  factor             0                  0             LC assigned loan grade                                                                                                                                                                                   
7    Growth2018             numeric            0                  0             State population growth in 2018                                                                                                                                                                          
8    home_ownership         factor             0                  0             The home ownership status provided by the borrower during registration or obtained from the credit report. Our values are: RENT, OWN, MORTGAGE, OTHER                                                    
9    inq_last_6mths         integer            0                  0             The number of inquiries in past 6 months (excluding auto and mortgage inquiries)                                                                                                                         
10   installment            numeric            0                  0             The monthly payment owed by the borrower if the loan originates.                                                                                                                                         
11   int_rate               numeric            0                  0             Interest Rate on the loan                                                                                                                                                                                
12   loan_amnt              integer            0                  0             The listed amount of the loan applied for by the borrower. If at some point in time, the credit department reduces the loan amount, then it will be reflected in this value.                             
13   loan_status            factor             0                  0             Current status of the loan                                                                                                                                                                               
14   open_acc               integer            0                  0             The number of open credit lines in the borrower's credit file.                                                                                                                                           
15   Percent_of_US          numeric            0                  0             State population's percent of U.S. population in 2018                                                                                                                                                    
16   Population2018         integer            0                  0             State population (count) in 2018                                                                                                                                                                         
17   pub_rec                integer            0                  0             Number of derogatory public records                                                                                                                                                                      
18   pub_rec_bankruptcies   integer            0                  0             Number of public record bankruptcies                                                                                                                                                                     
19   purpose                factor             0                  0             A category provided by the borrower for the loan request.                                                                                                                                                
20   revol_bal              integer            0                  0             Total credit revolving balance                                                                                                                                                                           
21   revol_util             factor             0                  0             Revolving line utilization rate, or the amount of credit the borrower is using relative to all available revolving credit.                                                                               
22   sub_grade              factor             0                  0             LC assigned loan subgrade                                                                                                                                                                                
23   term_months            numeric            0                  0             Loan term (36 or 60 months)                                                                                                                                                                              
24   total_acc              integer            0                  0             The total number of credit lines currently in the borrower's credit file                                                                                                                                 
25   verification_status    factor             0                  0             Indicates if income was verified by LC, not verified, or if the income source was verified                                                                                                               




### Loan Purpose
![](../plots/plot_purpose.png)

### Loan Grade
![](../plots/plot_grade.png)

### Loan Amount
![](../plots/plot_loan_amnt_by_grade.png)

### Interest Rate
![](../plots/plot_int_rate_by_grade.png)

## Modeling {.tabset .tabset-fade}

Training, testing, and validation percentages were 60%, 20%, and 20%, respectively. Model details are provided in the tabs below.
<br>
<br>

### AutoML

We allowed the AutoML model search algorithm to run for 15 seconds, fitting a total of 23 models. Model XRT_0_AutoML_20181005_203843 had the highest cross-validated AUC (0.69).  
<br>
<br>

<!--html_preserve--><div id="htmlwidget-7101767bf9f2ffa1e8ce" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7101767bf9f2ffa1e8ce">{"x":{"filter":"none","caption":"<caption>AutoML leaderboard<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],["XRT_0_AutoML_20181005_203843","GBM_grid_0_AutoML_20181005_203843_model_0","StackedEnsemble_AllModels_0_AutoML_20181005_203525","StackedEnsemble_BestOfFamily_0_AutoML_20181005_203525","DRF_0_AutoML_20181005_203843","XRT_0_AutoML_20181005_203525","GBM_grid_0_AutoML_20181005_203525_model_0","GBM_grid_0_AutoML_20181005_203843_model_1","DRF_0_AutoML_20181005_203525","DRF_0_AutoML_20181005_214035","GBM_grid_0_AutoML_20181005_203843_model_2","XRT_0_AutoML_20181005_213559","GBM_grid_0_AutoML_20181005_203843_model_4","DeepLearning_0_AutoML_20181005_213559","GBM_grid_0_AutoML_20181005_203843_model_3","DRF_0_AutoML_20181005_214201","DRF_0_AutoML_20181005_213559","GBM_grid_0_AutoML_20181005_213559_model_0","GBM_grid_0_AutoML_20181005_213559_model_1","GBM_grid_0_AutoML_20181005_213559_model_2","GBM_grid_0_AutoML_20181005_213559_model_3","GBM_grid_0_AutoML_20181005_213559_model_4","GBM_grid_0_AutoML_20181005_213559_model_5"],[0.690639316513979,0.68897614088545,0.688086555291624,0.688086555291624,0.685139290921782,0.682734544173075,0.680497947481676,0.678578164100166,0.677496034254845,0.677496034254845,0.667884133406654,0.66681814446025,0.66575181281186,0.664738047822258,0.66040783868679,0.653184388900178,0.653184388900178,0.65189717537086,0.640308216487164,0.627842385242385,0.625383607667818,0.62289339565129,0.588138445212129],[0.514632276371298,0.447322356486797,0.439344082183037,0.439344082183037,0.524273048633094,0.52085135697958,0.44132563080825,0.458165027056172,0.540386108978849,0.540386108978849,0.474345583865441,0.439803960672873,0.466047474898063,0.314584614430817,0.520552995960258,0.481532387844661,0.481532387844661,0.320824115786596,0.339119875601104,0.361626131375675,0.412475059164601,0.395838393653359,0.546951395891779],[0.359670702171762,0.362888042856899,0.36230518653348,0.36230518653348,0.366490711719933,0.368987855264578,0.369522333581154,0.374160691560531,0.368963377143223,0.368963377143223,0.382654151113704,0.388297816613606,0.382397043279436,0.393053286369076,0.388356148823718,0.398326988642778,0.398326988642778,0.393888121203911,0.407519767888189,0.407441373704532,0.406557271557272,0.41670812165549,0.436200004515794],[0.392435822176231,0.375631931239001,0.371230734868329,0.371230734868329,0.391321616030668,0.389618812635978,0.372311689053335,0.378911817209995,0.388640868216102,0.388640868216102,0.383330013307926,0.30913116574893,0.382248647054352,0.297085164529918,0.391674829013176,0.308152798643927,0.308152798643927,0.29714163457612,0.300444331532621,0.303446369019486,0.308107837331018,0.306930119378859,0.312559461927568],[0.154005874527135,0.141099347766342,0.137812258510879,0.137812258510879,0.153132607172853,0.151802819159869,0.138615993805747,0.143574165221381,0.151041724447766,0.151041724447766,0.146941899102655,0.0955620776372925,0.146114028174882,0.0882595949837686,0.153409171682501,0.0949581473120844,0.0949581473120844,0.0882931509985681,0.0902667963500838,0.0920796988711101,0.0949304394247969,0.0942060981819209,0.097693417240451]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>model_id<\/th>\n      <th>auc<\/th>\n      <th>logloss<\/th>\n      <th>mean_per_class_error<\/th>\n      <th>rmse<\/th>\n      <th>mse<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 1, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 2, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 6, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->

### LIME

The Local Interpretable Model-Agnostic Explanations (LIME) algorithm was used to provide some insight into the variables that contributed to the model predictions of a few selected loan cases.
<br>
<br>

![](../plots/plot_lime.png)


### Variable Importance
<!--html_preserve--><div id="htmlwidget-7ab8d1c6674e5e423d9c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7ab8d1c6674e5e423d9c">{"x":{"filter":"none","caption":"<caption>Variable Importance for top GBM<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],["revol_util","sub_grade","addr_state","int_rate","grade","emp_length","dti","revol_bal","home_ownership","open_acc","installment","loan_amnt","inq_last_6mths","total_acc","delinq_2yrs","annual_inc","verification_status","term_months","pub_rec","Growth2018","Percent_of_US","pub_rec_bankruptcies","Population2018"],[7251.20263671875,6829.90771484375,2908.08178710938,2742.98168945312,1857.52685546875,1186.95593261719,537.568603515625,535.247863769531,368.138702392578,323.23193359375,273.565032958984,269.488922119141,253.733245849609,192.176803588867,133.190673828125,131.352783203125,120.633758544922,107.263900756836,103.179862976074,72.1773529052734,56.1380577087402,39.5341491699219,30.3893032073975],[1,0.941899993286405,0.401048203008889,0.378279552630783,0.256168107351266,0.163690906472074,0.0741350959899365,0.0738150470460079,0.0507693303905744,0.0445763206170744,0.0377268498295306,0.0371647208911938,0.0349918845964601,0.0265027490220339,0.0183680805103518,0.0181146203993774,0.0166363794516036,0.0147925669893255,0.014229344861167,0.00995384579928585,0.00774189614071292,0.0054520816960387,0.00419093283278441],[0.275463235449836,0.259458819620852,0.110474035572171,0.104202109472192,0.0705648956700405,0.0450908267105141,0.0204214934017721,0.0203333316841752,0.0139850840110093,0.0122791375016285,0.0103923601173726,0.0102375142612783,0.00963897774542816,0.00730053299392442,0.00505973088638457,0.00498991194415811,0.0045827109099099,0.00407480836348804,0.00391966137378854,0.00274191856904004,0.00213260775943738,0.00150184806392765,0.00115444791767174],["Revolving line utilization rate, or the amount of credit the borrower is using relative to all available revolving credit.","LC assigned loan subgrade","The state provided by the borrower in the loan application","Interest Rate on the loan","LC assigned loan grade","Employment length in years. Possible values are between 0 and 10 where 0 means less than one year and 10 means ten or more years.","A ratio calculated using the borrower’s total monthly debt payments on the total debt obligations, excluding mortgage and the requested LC loan, divided by the borrower’s self-reported monthly income.","Total credit revolving balance","The home ownership status provided by the borrower during registration or obtained from the credit report. Our values are: RENT, OWN, MORTGAGE, OTHER","The number of open credit lines in the borrower's credit file.","The monthly payment owed by the borrower if the loan originates.","The listed amount of the loan applied for by the borrower. If at some point in time, the credit department reduces the loan amount, then it will be reflected in this value.","The number of inquiries in past 6 months (excluding auto and mortgage inquiries)","The total number of credit lines currently in the borrower's credit file","The number of 30+ days past-due incidences of delinquency in the borrower's credit file for the past 2 years","The self-reported annual income provided by the borrower during registration.","Indicates if income was verified by LC, not verified, or if the income source was verified","Loan term (36 or 60 months)","Number of derogatory public records","State population growth in 2018","State population's percent of U.S. population in 2018","Number of public record bankruptcies","State population (count) in 2018"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>variable<\/th>\n      <th>relative_importance<\/th>\n      <th>scaled_importance<\/th>\n      <th>percentage<\/th>\n      <th>Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3,4]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nDTWidget.formatRound(this, row, data, 1, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 2, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 3, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 4, 3, 3, ',', '.');\nDTWidget.formatRound(this, row, data, 5, 3, 3, ',', '.');\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script><!--/html_preserve-->







Time stamp of last report run: 2018-10-05 21:42:49


